<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>피드</title>
<link rel="stylesheet" th:href="@{/assets/css/feed/feed-layout.css}">
<link rel="stylesheet" th:href="@{/assets/css/feed/feed-view.css}">
<link rel="stylesheet" th:href="@{/assets/css/feed/feed-modal.css}">
</head>
<body>
	<!-- header : 상단 고정 포지션 픽스 -->
	<header class="header">
		<a href="#" class="logo">
		<img src="https://velog.velcdn.com/images/mekite/post/3958812c-a50f-426c-a9ca-363b12b9bd4a/image.PNG" alt="top_logo">
		</a>
		<!-- 로고 클릭 시 링크 이동 -->
		<nav class="nav-links">
			<a href="#">피드</a>
			<a href="#">음식</a>
			<a href="#">영양제</a>
			<a href="#">챌린지</a>
			<a href="#">티켓</a>
			<a href="#">마켓</a>
			<a href="#">커뮤니티</a>
		</nav>
		<div class="profile">
			<a href="#">
			<img src="https://velog.velcdn.com/images/mekite/post/02c7afae-d297-40ee-81df-ed3da3b7f0ca/image.png" alt="프로필"></a>
		</div>
		<!-- 프로필 사진 (원형) -->
	</header>
	<!-- container -->
	<div class="feed-container">
		<div class="sidebar-container">
			<!-- Sidebar -->
			<aside class="sidebar">
				<ul>
					<li>
						<img src="https://velog.velcdn.com/images/mekite/post/77cd9c52-10df-43a4-bf7f-e32c5ffdc15d/image.png" alt="검색 아이콘" /></li>
					<li>
					<a href="#">검색</a></li>
				</ul>
				<ul>
					<li>
						<img src="https://velog.velcdn.com/images/wlsgus4296/post/b686331f-57cd-4151-a977-5dccac86ba5f/image.png" alt="피드 추가 아이콘" /></li>
					<li>
					<a th:href="@{/feed/create}">피드 추가</a></li>
				</ul>
				<ul>
					<li>
						<img src="https://velog.velcdn.com/images/wlsgus4296/post/55cd2fc1-6375-4982-a9b3-5887ca9e14cb/image.png" alt="영양 정보 아이콘" /></li>
					<li><a th:href="@{/user/nutritioninfo/view}">영양 정보</a></li>
				</ul>
				<ul>
					<li>
						<img src="https://velog.velcdn.com/images/wlsgus4296/post/6796c6f7-cca3-45ab-bda3-5fb850420929/image.png" alt="챌린지 아이콘" /></li>
					<li><a href="#">챌린지</a></li>
				</ul>
			</aside>
			<div class="search-panel">
				<div class="filters">
					<input class="text" type="text" id="search-input" placeholder="검색어를 입력하세요" />
					<button class="search"></button>
				</div>
				<img src="https://velog.velcdn.com/images/mekite/post/21a70790-1027-41c2-a741-d0cf3859686e/image.png" alt="검색구분" class="research-section">
				<span>최근 검색 항목</span>
				<ul id="search-results">
					<!-- 검색 결과 리스트 -->
					<li>test</li>
					<li>test</li>
					<li>test</li>
				</ul>
			</div>
		</div>
		<!-- Main Content -->
		<main class="main">
			<!-- 백그라운드 오버레이 -->
			<div class="feed-modal-overlay"></div>

			<!-- 옵션 모달 -->
			<div class="feed-option-modal">
				<div class="popup-wrap">
					<div class="popup">
						<div class="popup-body">
							<ul>
								<li class="move-pop"><a th:href="@{/feed/view}">피드로 이동</a></li>
								<li class="share-pop"><a href="#">피드 공유</a></li>
								<li class="copylink-pop"><a href="#">피드 링크 복사</a></li>
								<li class="feed-declaration-pop" style="color: red;">신고</li>
								<li class="close">취소</li>
							</ul>
						</div>
					</div>
				</div>
			</div>

			<!-- 신고 모달 -->
			<div id="declaration-modal">
				<div class="popup-wrap">
					<div class="popup">
						<div class="popup-body">
							<ul>
								<li class="pop" style="background-color: rgb(66, 66, 66); color: white;">신고 유형</li>
								<li class="pop">불법 콘텐츠</li>
								<li class="pop">폭력적 및 유해 콘텐츠</li>
								<li class="pop">욕설 및 비방</li>
								<li class="pop">스팸 및 광고</li>
								<li class="pop">허위 사실 유포</li>
								<li class="close">취소</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			
			<!-- 피드 댓글 모달 -->
			<div th:replace="~{user/feed/feed-comment :: feed-comment}"></div>
			<div th:if="${FeedList == null || FeedList.isEmpty()}">
			    <p>피드가 없습니다.</p>
			</div>
			<!-- 피드 리스트 -->
			<section th:if="${FeedList != null && !FeedList.isEmpty()}">
	            <div class="feed" th:each="f, iterStat : ${FeedList}" th:id="'feed-' + ${iterStat.index}" >
	                <div class="feed-header">
	                    <a href="#">
	                        <img th:src="${f.memberProfileImage}" alt="작성자 프로필"  onerror="this.src='/images/default-profile.png'">
	                    </a>
	                    <div class="user-name">
	                        <a href="#"><p th:text="${f.memberId}"></p></a>
	                    </div>
	                    <div class="feed-option">
	                        <button class="option-button">
	                            <img src="https://velog.velcdn.com/images/mekite/post/e1e30329-6765-425a-ad54-42e8df8a27aa/image.png" alt="옵션">
	                        </button>
	                    </div>
	                </div>
	                <div class="feed-main-img">                    
	                    <img th:src="${f.FeedPicture}" alt="게시글 이미지">
	                </div>
	                <div class="feed-action">
	                    <div class="action-icons">
	                        <button type="button" class="action-btn likeBtn" data-liked="false">
	                            <img class="likeImg" src="https://velog.velcdn.com/images/mekite/post/893c3ae8-05a0-4506-a889-15b8af37a33d/image.png" alt="좋아요">
	                        </button>
	                        <button type="button" class="action-btn commentBtn">
	                            <img src="https://velog.velcdn.com/images/mekite/post/3ca79f86-baf3-4d32-9f07-008c4ff960d2/image.png" alt="댓글">
	                        </button>
	                    </div>
	                    <p class="feed-upload-date" th:text="${f.FeedDate != null ? #dates.format(f.FeedDate, 'yyyy/MM/dd') : '날짜 없음'}"></p>
	                </div>
	                <div class="feed-description">
	                    <p id="feed-likes" th:text="|좋아요 ${f.FeedLike}개|"></p>
	                    <p th:text="${f.FeedContent}"></p>
	                    <p class="comments-link" th:text="${f.FeedCommentContent}"></p>
	                </div>
	                <hr>
	                <div class="add-comment">
	                    <img src="https://velog.velcdn.com/images/mekite/post/87802bec-0c39-4cf8-aa23-80ae579a0b37/image.png" alt="댓글 아이콘">
	                    <input type="text" placeholder="댓글 달기...">
	                    <button class="comment-submit">게시</button>
	                </div>
	            </div>
            </section>
        </main>
		<!-- Right Sidebar -->
		<div class="progress-container">
			<div class="analysis-table">
				<p class="analysis-title">식단 영양 정보 분석표</p>
				<div id="analysis-img">
					<img class="img" src="https://www.fsnews.co.kr/news/photo/202206/45847_38385_3220.png" alt="분석 이미지">
				</div>
			</div>
			<div class="analysis-info">
				<table class="info-table">
					<tr>
						<th>구분</th>
						<th>값</th>
					</tr>
					<tr>
						<td>열량</td>
						<td id="calories">554.025kcal</td>
					</tr>
					<tr>
						<td>탄수화물</td>
						<td id="carb">0g</td>
					</tr>
					<tr>
						<td>단백질</td>
						<td id="protein">289.1g</td>
					</tr>
					<tr>
						<td>지방</td>
						<td id="fat">262.125g</td>
					</tr>
				</table>
			</div>
			<div class="analysis-caution">
				<p>※ 표시된 영양성분은 산출근거에 따른 표준 값으로 실제 제품과 차이가 있을 수 있습니다.</p>
			</div>
		</div>
	</div>
	<!-- footer : 하단 고정 포지션 스테틱 -->
	<footer class="footer">
		<div class="footer-container">
			<div class="footer-logo">
				<img src="https://velog.velcdn.com/images/mekite/post/552ea3de-e88e-42f5-969e-d7c8051cd272/image.png" alt="footer_logo">
			</div>
			<div class="company-info">
				<span>전주시 덕진구 기린대로 499</span>
				<span>|</span>
				<span>홍길동</span>
				<span>|</span>
				<span>사업자등록번호 418-82-10120</span>
			</div>
			<div class="license-info">
				<span>© 2024 DoSelf, Inc. All rights reserved.</span>
			</div>
		</div>
	</footer>
	
</body>


<!--/* 사용자 추가 js file */-->
<th:block layout:fragment="customJsResource">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script th:src="@{/assets/js/feed/feed-list.js}"></script>
	<script th:src="@{/assets/js/feed/feed-modal.js}"></script>
	<script th:src="@{/assets/js/feed/feed-like.js}"></script>
	<!-- <script th:src="@{/assets/js/feed/feed-comment.js}"></script> -->
</th:block>

<!--/* 사용자 추가 js script */-->
<th:block layout:fragment="customJs">
	<script>
		
	</script>
</th:block>
</html>