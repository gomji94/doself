<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/layout/default}">
<head>
	<link th:href="@{/assets/css/challenge/user-challenge-list.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{/assets/css/challenge/user-challenge-view.css}" rel="stylesheet" type="text/css" />
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
</head>
<body style="font-family: 'Pretendard-Light';">
	<th:block layout:fragment="content-body" class="main-container">
	    <div class="view-container">
	    	<h5 id="participateChallenge">현재 참여 중인 챌린지</h5>
	    	<img id="cardSection" src="https://velog.velcdn.com/images/mekite/post/0d398abc-c843-4140-9019-d8b89546c8a6/image.png" alt="카드 구분선" />
	        <!-- 카드 목록 -->
	        <section id="participateCardList" class="card-grid" th:if="${participateChallengeList != null and !participateChallengeList.isEmpty()}">
			    <div class="card" th:each="pcl : ${participateChallengeList}" 
				     th:data-code="${pcl.challengeCode}" 
				     th:href="@{/challenge/feed/view/{challengeCode}(challengeCode=${pcl.challengeCode}, challengeStatusCode=${pcl.challengeStatusCode != null ? pcl.challengeStatusCode : 'default'})}"
				     style="border: none;">
			        <img th:src="@{|${pcl.challengePicture}|}" alt="카드 이미지">
			        <div class="card-content">
			            <div class="tag-container">
			                <a href="#" class="tag-a"><h3 th:text="|# ${pcl.challengeTopicName}|" class="challenge-tag"></h3></a>
			                <h3 th:text="${pcl.challengeName}" class="challenge-name back-ground"></h3>
			            </div>
			            <div class="card-info">
			                <div class="challenge-level">
			                    <img src="https://velog.velcdn.com/images/mekite/post/4c3632f1-a9ae-4227-a422-3a963d878ee9/image.png" alt="level">
			                    <p th:text="${pcl.challengeTopicLevel}" style="margin-bottom: 0px;"></p>
			                </div>
			                <div class="challenge-start-date">
			                    <img src="https://velog.velcdn.com/images/mekite/post/d851fb08-8cfe-42f0-9337-8e7cfc36799e/image.png" alt="start-date">
			                    <p th:text="${#dates.format(pcl.challengeStartDate, 'yy/MM/dd')}" style="margin-bottom: 0px;"></p>
			                </div>
			                <div class="challenge-people">
			                    <img src="https://velog.velcdn.com/images/mekite/post/e5a5b298-fcfd-41a6-860e-da51fb10e9bc/image.png" alt="people">
			                    <p th:text="|${pcl.challengeCurrentMember}/${pcl.challengeMaxMember}|" style="margin-bottom: 0px;"></p>
			                </div>
			            </div>
			            <p th:text="${pcl.challengeContent}" class="challenge-text" style="margin-bottom: 0px;"></p>
			        </div>
			    </div>
			</section>
			<p th:if="${participateChallengeList == null || participateChallengeList.isEmpty()}">참여 중인 챌린지가 없습니다.</p>
	    </div>
	</th:block> 
</body>
	<!--/* 사용자 추가 js file */-->
    <th:block layout:fragment="customJsResource"></th:block>
    
    <!--/* 사용자 추가 js script */-->
    <th:block layout:fragment="customJs">
	    <!-- 반드시 jquery 기능이 있는 라이브러리 파일을 연결해야 함 -->
		<!-- <script src="http://code.jquery.com/jquery-latest.min.js"></script> -->
		<script src="https://code.jquery.com/jquery-latest.min.js"></script>
		<!-- Popper JS -->
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
		<!-- Latest compiled JavaScript -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
	    <script th:src="@{/assets/js/layout.js}"></script>
		<script th:src="@{/assets/js/challenge/user-challenge-view.js}"></script>
	    <script th:src="@{/assets/js/challenge/user-challenge-list.js}"></script>
	    
	    <script>
		    
	    </script>
    </th:block> 
</html>